@model DetailViewModel
@{
    var viewModel = Model;
    ViewData["Title"] = viewModel.Title;
    string fileName = System.IO.Path.GetFileName(Model.PdfFilePath)!;
}

<head>
    <link rel="stylesheet" href="~/css/detail.css" asp-append-version="true" />
</head>
<div class="detail-container">
    @if (viewModel.IsVisible == true)
    {
        <div class="info-container">
            <p class="info-title">@viewModel.Title</p>
            @if (viewModel.ObjectType != "geotag")
            {
                <p class="tags-title">Connectors:</p>
                @if (viewModel.ConnectorTags.Count != 0)
                {
                    foreach (var tag in viewModel.ConnectorTags)
                    {
                        <p><em class="tags-content">@tag.Name</em></p>
                    }
                }
                else
                {
                    <br />
                }
                <p class="tags-title">Becomings:</p>
                @if (viewModel.Becomings.Count != 0)
                {
                    foreach (var tag in viewModel.Becomings)
                    {
                        <p><em class="tags-content">@tag</em></p>
                    }
                }
                else
                {
                    <br />
                }
            }
            <div class="content-options">
                @if (!String.IsNullOrWhiteSpace(@Model.PdfFilePath))
                {
                    <div id="saveBtn" data-tags="@Model.PdfFilePath" class="content-options-btn">
                        <a>
                            <img class="pdf_icon" src="~/images/icons/pdf-download.png" />
                        </a>
                    </div>
                }
                @if (!String.IsNullOrWhiteSpace(@Model.AudioFilePath))
                {
                    <div id="audio-icon" class="content-options-btn">
                        <img class="play_icon" id="audio-img" src="~/images/icons/play.png" />
                        <audio id="audio-player" src="@Model.AudioFilePath"></audio>
                    </div>
                }
            </div>
            <div class="navmenu" id="navmenu"></div>
        </div>
        <div class="content-container" id="content-container">
            <div class="text" id="editor">
                <p>
                    @Html.Raw(viewModel.Content)
                </p>
            </div>
        </div>
    }
    else
    {
        <div class="visibility-container">This content is not visible to the public</div>
    }
</div>
<script src="~/js/detail.js" asp-append-version="true"></script>
