@model MolecularMosaicsViewModel
@{
    ViewData["Title"] = "Molecular Mosaics";
    var mosaicImages = Enumerable.Range(1, 14).Select(i => $"~/images/mosaics/mosaic-blue-{i}.png").ToArray();
    var random = new Random();
}
<head>
    <link rel="stylesheet" href="~/css/mosaics.css" asp-append-version="true" />
</head>
<div class="background-container background-image"></div>
<div class="mosaic-container">
    <div class="mosaic-float">
        @foreach(var mosaic in Model.MolecularMosaics!)
        {
            var randomBlueMosaicImg = mosaicImages[random.Next(mosaicImages.Length)];
            <div class="mosaic mosaic-position" id="mosaic-@mosaic.Id" data-tags="@string.Join(',', mosaic.ConnectorTags!.Select(tag => tag.Name))">
                <a href="@Url.Action("Detail", "Home", new {id = mosaic.Id, objectType = "molecularmosaic" })">
                    <img class="mosaicImg" src="@Url.Content(randomBlueMosaicImg)" />
                    <div class="mosaic-content">
                        <div><h3>@mosaic.Title</h3></div>
                        @foreach (var becoming in mosaic.Becomings!)
                        {
                            <div class="mosaic-becoming">@becoming</div>
                        }
                    </div>
                </a>
            </div>
        }
    </div>
</div>
<div id="mySidebar" class="sidebar">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()"><img src="~/images/icons/arrow-black-reverse.svg" /></a>
    <h3 class="sidebarLine">Becomings</h3>
    <div class="becomings-btn">
        <label class="switch-becoming">
            <input id="becomings-btn" type="checkbox">
            <span class="slider-becoming round"></span>
        </label>
        <label class="becomings-text">Show Becomings</label>
    </div>
    <h3 class="sidebarLine">Connectors</h3>
    <ul class="tagList">
        @foreach (var tag in Model.ConnectorTags!)
        {
            <li>
                <div class="item">
                    <div class="filter-checkbox">
                        <input type="checkbox" id="@tag.Name" name="check" data-tag="@tag.Name">
                        <label for="@tag.Name">@tag.Name</label>
                    </div>
                </div>
            </li>
        }
    </ul>
</div>
<div id="main">
    <button class="openbtn" onclick="openNav()"><img src="~/images/icons/arrow-black.svg" /></button>
</div>
<script src="~/js/mosaics.js" asp-append-version="true"></script>
